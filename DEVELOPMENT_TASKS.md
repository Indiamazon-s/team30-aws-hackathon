# CultureChat 개발 태스크 목록

## 📋 프로젝트 개요
문화적 배려가 담긴 1:1 매너 채팅 서비스 개발

### 🎯 새로운 서비스 구조
1. **회원가입 시 설정**: 사용자 국적/문화권 및 주 사용 언어 설정
2. **1:1 채팅방 생성**: 관계 설정(상사, 연인, 친구 등) 및 상대방 언어/문화권 인식
3. **실시간 채팅**: 매너 체크 → 번역 → 전송 플로우
4. **대안 제시**: 문제 시 3가지 대안 + 관계별 존댓말 수준 조정

### 🎯 핵심 기능
- **회원 관리**: 사용자 프로필 및 문화권 설정
- **채팅방 관리**: 1:1 채팅방 생성 및 관계 설정
- **실시간 매너 체크**: 상대방 문화권 기준 분석
- **자동 번역**: 매너 OK 시 자동 번역 전송
- **대안 제시**: 문제 시 3가지 개선안 제공

## 🎯 개발 우선순위 및 태스크

### Phase 1: 사용자 인증 및 프로필 관리 🔐
- [x] **Task 1.1**: 회원가입/로그인 시스템
  - 프로필 설정 모달 UI 구현
  - 사용자 국적/언어 선택 기능
  - 로컬 스토리지 기반 프로필 관리

- [x] **Task 1.2**: 사용자 프로필 설정
  - 국적/문화권 선택 UI (CountrySelector)
  - 주 사용 언어 설정 (LanguageSelector)
  - 프로필 설정 모달 (ProfileSetupModal)

- [x] **Task 1.3**: 데이터베이스 설계
  - DynamoDB 테이블 설계 완료
  - 메시지 테이블 (messages)
  - 채팅방 테이블 (chats)
  - WebSocket 연결 관리

### Phase 2: 채팅방 관리 시스템 💬
- [x] **Task 2.1**: 1:1 채팅방 생성
  - 채팅방 생성 UI/UX (ChatList)
  - 새 채팅 생성 기능
  - 채팅방 목록 관리 및 표시

- [x] **Task 2.2**: 관계 설정 기능
  - 관계 유형 선택 (상사, 동료, 친구, 연인, 부모님, 낯선 사람)
  - 관계별 매너 기준 차별화
  - RelationshipSelector 컴포넌트

- [x] **Task 2.3**: 상대방 언어/문화권 인식
  - 국가별 언어 자동 매핑
  - 채팅방별 문화권 설정
  - 12개국 지원 (KR, US, JP, CN, GB, DE, FR, IT, RU, IN, BR, AU)

### Phase 3: 실시간 매너 체크 및 번역 🤖
- [x] **Task 3.1**: AWS Bedrock 매너 분석 엔진
  - hybrid-analyze API 구현 (Claude 3 Sonnet)
  - 관계별 매너 체크 프롬프트 최적화
  - 12개국 문화권별 금기사항 데이터베이스
  - 캐싱 시스템으로 성능 최적화

- [x] **Task 3.2**: 자동 번역 시스템
  - AWS Bedrock 기반 실시간 번역
  - 국가별 언어 매핑 완비
  - 매너 OK 시 자동 번역 전송
  - 원문 + 번역문 동시 표시

- [x] **Task 3.3**: 대안 제시 시스템
  - Amazon Bedrock Guardrails 통합
  - 욕설/부적절한 표현 1차 필터링
  - 문제 감지 시 3가지 대안 생성 (formal/semi-formal/casual)
  - 각 대안에 번역문 포함

### Phase 4: 실시간 채팅 인터페이스 💬
- [x] **Task 4.1**: 채팅 UI/UX 개발
  - 실시간 메시지 송수신 (WebSocket 기반)
  - 매너 체크 상태 표시 (✅/🟠)
  - 대안 제시 모달 UI
  - EnhancedMannerFeedback 컴포넌트

- [x] **Task 4.2**: 메시지 플로우 구현
  - 입력 → 매너 체크 → 번역 → 전송 플로우
  - 로딩 상태 및 진행 표시
  - 에러 핸들링 및 재시도

- [x] **Task 4.3**: 메시지 히스토리 관리
  - 채팅 기록 저장 및 불러오기
  - 원문/번역문 토글 표시
  - 메시지 검색 기능

### Phase 5: 고급 기능 및 최적화 ⚡
- [x] **Task 5.1**: 실시간 알림 시스템
  - SSE 기반 실시간 알림 구현
  - 브라우저 푸시 알림 지원
  - 읽음 표시 및 온라인 상태 관리
  - NotificationCenter 컴포넌트 구현
  - useSSENotifications 훅 구현

- [ ] **Task 5.2**: 성능 최적화
  - 메시지 로딩 최적화
  - 이미지 및 파일 전송 지원
  - 캐싱 전략 구현

- [ ] **Task 5.3**: 문화 학습 기능
  - 매너 팁 제공
  - 문화별 커뮤니케이션 가이드
  - 사용자 매너 점수 시스템

### Phase 6: 테스트 및 품질 보증 🧪
- [x] **Task 6.1**: 자동화 테스트 구축
  - 단위 테스트 70개 작성 (92.9% 통과율)
  - API 테스트 (hybrid-analyze, guardrails-check)
  - 컴포넌트 테스트 (EnhancedMannerFeedback, AlternativeSelector)
  - 통합 테스트 (manner-check-flow)

- [ ] **Task 6.2**: 성능 최적화
  - 번들 크기 최적화
  - 이미지 및 자산 최적화
  - 캐싱 전략 구현

- [ ] **Task 6.3**: 접근성 개선
  - WCAG 가이드라인 준수
  - 키보드 네비게이션 지원
  - 스크린 리더 호환성

### Phase 7: AWS IaC 배포 및 인프라 구축 🏗️
- [ ] **Task 7.1**: Terraform IaC 구현
  - AWS 리소스 Terraform 코드 작성
  - S3 버킷 및 CloudFront CDN 설정
  - API Gateway 및 Lambda 함수 배포
  - IAM 역할 및 정책 구성

- [ ] **Task 7.2**: CI/CD 파이프라인 구축
  - GitHub Actions 워크플로우 설정
  - 자동 빌드 및 배포 파이프라인
  - 환경별 배포 전략 (dev, staging, prod)
  - 롤백 및 블루-그린 배포 구현

- [ ] **Task 7.3**: 모니터링 및 운영
  - CloudWatch 대시보드 및 알람 설정
  - 비용 모니터링 및 예산 알람
  - 로그 집계 및 분석 시스템
  - 성능 메트릭 및 사용량 추적

## 🔧 개발 가이드라인

### 각 태스크 진행 시 체크리스트:
1. **계획**: 요구사항 명확화 및 설계
2. **구현**: 코드 작성 및 기능 개발
3. **테스트**: 기능 테스트 및 버그 수정
4. **문서화**: 코드 주석 및 문서 업데이트
5. **리뷰**: 코드 리뷰 및 품질 검증

### Q Developer 작업 요청 시 사용법:
```
"DEVELOPMENT_TASKS.md의 Task X.X를 진행해주세요"
```

### 우선순위 표시:
- 🔥 **긴급**: 즉시 처리 필요
- ⭐ **중요**: 다음 스프린트에서 처리
- 📝 **일반**: 시간 여유 시 처리
- 💡 **아이디어**: 향후 검토

## 📊 진행 상황 추적

### 완료된 태스크: 14/21 (66.7%)
- Phase 1: 3/3 완료 ✅
- Phase 2: 3/3 완료 ✅
- Phase 3: 3/3 완료 ✅
- Phase 4: 3/3 완료 ✅
- Phase 5: 1/3 완료 🔄
- Phase 6: 1/3 완료 🔄
- Phase 7: 0/3 완료

### 현재 진행 중: Phase 5 (고급 기능 및 최적화)
- 다음 작업: Task 5.2 (성능 최적화)
- 최근 완료: Task 5.1 (SSE 기반 실시간 알림 시스템)

### 새로운 서비스 특징
- 회원가입 시 문화권/언어 설정
- 1:1 채팅방 기반 커뮤니케이션
- 관계별 매너 기준 차별화
- 실시간 매너 체크 → 번역 플로우
- 문제 시 3가지 대안 제시
- 원문 + 번역문 동시 표시
- 존댓말/반말 수준 자동 조정

### 예상 완료 일정:
- Phase 1: 1-2주차 (사용자 인증 및 프로필)
- Phase 2: 3주차 (채팅방 관리)
- Phase 3: 4-5주차 (매너 체크 및 번역)
- Phase 4: 6주차 (채팅 인터페이스)
- Phase 5: 7주차 (고급 기능)
- Phase 6: 8주차 (테스트 및 품질)
- Phase 7: 9주차 (배포 및 운영)

## 🚨 주의사항

1. **사용자 데이터 보호**: 개인정보 및 채팅 내용 암호화 저장
2. **실시간 성능**: 매너 체크 + 번역 2초 이내 완료 목표
3. **문화적 정확성**: 관계별/국가별 매너 기준 전문가 검토
4. **AWS 비용 관리**: Bedrock, Translate 사용량 모니터링
5. **확장성**: 동시 채팅방 다수 지원 아키텍처
6. **보안**: JWT 토큰 관리, API 보안, 메시지 암호화
7. **사용자 경험**: 직관적인 관계 설정 및 대안 선택 UI

## 📞 지원 및 문의

- 기술적 문제: GitHub Issues 활용
- 긴급 사항: 개발팀 직접 연락
- 문서 업데이트: 각 태스크 완료 시 체크박스 업데이트

---

**마지막 업데이트**: 2024년 12월
**다음 리뷰 예정**: Phase 1 완료 후